<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thêm Bàn Mới</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
</head>
<body>
    <div class="container mt-4 shadow-lg p-4 bg-light rounded">
        <h2 class="text-center mb-4">➕ Thêm Bàn Mới</h2>

        <% if (typeof errorMessage !== "undefined" && errorMessage) { %>
            <div class="alert alert-danger"><%= errorMessage %></div>
        <% } %>
        
        <% if (typeof successMessage !== "undefined" && successMessage) { %>
            <div class="alert alert-success"><%= successMessage %></div>
        <% } %>

        <!-- Form tạo bàn mới -->
        <form action="/admin/tables/create" method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>
            <div class="mb-3">
                <label for="idTable" class="form-label">Mã bàn</label>
                <input type="text" class="form-control" id="idTable" name="idTable" required 
                       value="<%= typeof idTable !== 'undefined' ? idTable : '' %>">
            </div>
            <div class="mb-3">
                <label for="seatNumber" class="form-label">Số chỗ ngồi</label>
                <input type="number" class="form-control" id="seatNumber" name="seatNumber" required 
                       value="<%= typeof seatNumber !== 'undefined' ? seatNumber : '' %>">
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Mô tả</label>
                <textarea class="form-control" id="description" name="description" rows="3"><%= typeof description !== 'undefined' ? description : '' %></textarea>
            </div>
            <div class="mb-3">
                <label for="depositPrice" class="form-label">Giá đặt cọc</label>
                <input type="number" class="form-control" id="depositPrice" name="depositPrice" 
                       value="<%= typeof depositPrice !== 'undefined' ? depositPrice : '' %>">
            </div>
            
            <div class="mb-3">
                <label for="status" class="form-label">Trạng thái</label>
                <select class="form-control" id="status" name="status">
                    <option value="AVAILABLE" <%= status === 'AVAILABLE' ? 'selected' : '' %>>Có sẵn</option>
                    <option value="RESERVED" <%= status === 'RESERVED' ? 'selected' : '' %>>Đã đặt</option>
                    <option value="OCCUPIED" <%= status === 'OCCUPIED' ? 'selected' : '' %>>Đang sử dụng</option>
                </select>
            </div>
        
            <div class="mb-3">
                <label for="type" class="form-label">Loại bàn</label>
                <select class="form-control" id="type" name="type">
                    <option value="NORMAL" <%= type === 'NORMAL' ? 'selected' : '' %>>Tiêu chuẩn</option>
                    <option value="VIP" <%= type === 'VIP' ? 'selected' : '' %>>VIP</option>
                </select>
            </div>
        
            <div class="mb-3">
                <label for="image" class="form-label">Tải lên Ảnh Bàn</label>
                <input type="file" class="form-control" id="image" name="image" accept="image/*">
            </div>
        
            <button type="submit" class="btn btn-success w-100">✅ Thêm Bàn</button>
        </form>
        
        

        <!-- Điều hướng đến danh sách bàn -->
        <div class="text-center mt-4">
            <a href="/admin/tables" class="btn btn-outline-secondary">
                <i class="bi bi-list"></i> Danh Sách Bàn
            </a>
        </div>
    </div>
</body>
</html>
